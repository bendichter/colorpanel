import matplotlib.pyplot as plt
import numpy as np
import matplotlib

from utils import use_subplot_spec


def plot_clock(ax):
    ax.set_yticklabels([])
    ax.set_theta_zero_location('N')
    ax.set_theta_direction(-1)
    ax.set_xticks([0, np.pi/2, np.pi, np.pi * 3/2])
    ax.set_xticklabels([12, 3, 6, 9])
    return ax


def plot_clocks(cmap='day/night', subplot_spec=None, fig=None, N=256):

    if fig is None:
        fig = plt.gcf()

    gs = use_subplot_spec(1, 2, subplot_spec=subplot_spec, fig=fig,
                          gs_out=True)

    data = np.linspace(0, 1, N)[np.newaxis, :]
    theta = np.linspace(0, 2 * np.pi, N)

    axs = []
    ax = fig.add_subplot(gs[0], polar=True)
    ax.pcolormesh(theta, [0, 1], data, cmap=cmap, vmin=0, vmax=2)
    ax = plot_clock(ax)
    ax.set_title('AM')
    axs.append(ax)

    ax = fig.add_subplot(122, polar=True)
    ax.pcolormesh(theta, [0, 1], data + 1, cmap=cmap, vmin=0, vmax=2)
    ax = plot_clock(ax)
    ax.set_title('PM')
    axs.append(ax)

    return fig


def init():
    cm_data = [[0.0734892, 0.06557248, 0.40835023],
               [0.07011417, 0.07379667, 0.40892189],
               [0.06663619, 0.08157471, 0.40927171],
               [0.06307755, 0.08896826, 0.40943045],
               [0.0594612, 0.09602332, 0.40942799],
               [0.05580662, 0.10277744, 0.40929099],
               [0.05213081, 0.10926202, 0.40904283],
               [0.04844994, 0.11550353, 0.40870414],
               [0.0447791, 0.12152487, 0.40829267],
               [0.0411389, 0.12734414, 0.40782646],
               [0.03756308, 0.13297761, 0.40732124],
               [0.03421455, 0.13844428, 0.40678319],
               [0.03112252, 0.14375484, 0.40622735],
               [0.02828623, 0.14892258, 0.40566089],
               [0.02570207, 0.15395992, 0.40508846],
               [0.02337917, 0.1588742, 0.40452165],
               [0.02130597, 0.1636776, 0.40395928],
               [0.0194892, 0.16837596, 0.40341086],
               [0.01792231, 0.17297808, 0.40287724],
               [0.01659975, 0.17749165, 0.40235923],
               [0.01552978, 0.18191987, 0.40186706],
               [0.01469655, 0.18627204, 0.40139368],
               [0.01410221, 0.19055195, 0.40094444],
               [0.01374829, 0.19476313, 0.40052449],
               [0.01362335, 0.19891225, 0.40012857],
               [0.0137249, 0.20300316, 0.39975801],
               [0.01405652, 0.20703777, 0.39941931],
               [0.0146103, 0.21102081, 0.39910925],
               [0.01538116, 0.21495596, 0.39882658],
               [0.01636619, 0.21884613, 0.39857185],
               [0.01756239, 0.22269401, 0.39834542],
               [0.01897083, 0.22650101, 0.39815169],
               [0.0205841, 0.23027067, 0.3979867],
               [0.02239856, 0.23400534, 0.39785001],
               [0.02441109, 0.23770707, 0.3977416],
               [0.02661851, 0.24137784, 0.39766139],
               [0.02901761, 0.24501946, 0.39760924],
               [0.03160514, 0.24863369, 0.39758495],
               [0.03437783, 0.25222215, 0.39758827],
               [0.03733235, 0.2557864, 0.39761892],
               [0.04046582, 0.25932769, 0.39767752],
               [0.04364403, 0.26284761, 0.39776289],
               [0.04683905, 0.26634755, 0.39787426],
               [0.05004411, 0.26982876, 0.39801124],
               [0.05325348, 0.27329243, 0.39817342],
               [0.05646229, 0.2767397, 0.39836037],
               [0.05966643, 0.28017163, 0.39857163],
               [0.06286236, 0.28358926, 0.39880676],
               [0.06604708, 0.28699357, 0.39906525],
               [0.069218, 0.29038551, 0.39934662],
               [0.07237288, 0.29376598, 0.39965035],
               [0.07550978, 0.29713586, 0.39997593],
               [0.07862702, 0.30049597, 0.40032281],
               [0.08172349, 0.30384696, 0.40069132],
               [0.08479759, 0.30718972, 0.40108023],
               [0.08784811, 0.31052503, 0.40148882],
               [0.090874, 0.3138536, 0.4019165],
               [0.09387438, 0.31717612, 0.40236265],
               [0.0968484, 0.32049328, 0.40282665],
               [0.09979534, 0.3238057, 0.40330785],
               [0.10271452, 0.32711403, 0.40380559],
               [0.10560534, 0.33041886, 0.40431921],
               [0.10846725, 0.33372079, 0.40484803],
               [0.11129975, 0.33702037, 0.40539134],
               [0.11410238, 0.34031816, 0.40594842],
               [0.11687542, 0.3436144, 0.40652018],
               [0.11961786, 0.34690987, 0.40710437],
               [0.12232932, 0.3502051, 0.40770005],
               [0.1250095, 0.35350055, 0.40830645],
               [0.12765813, 0.3567967, 0.40892276],
               [0.13027498, 0.360094, 0.40954816],
               [0.13285985, 0.36339287, 0.4101818],
               [0.13541281, 0.36669365, 0.41082335],
               [0.13793416, 0.36999659, 0.41147281],
               [0.14042315, 0.37330231, 0.41212785],
               [0.14287974, 0.3766112, 0.41278755],
               [0.1453039, 0.3799236, 0.41345101],
               [0.14769565, 0.38323986, 0.41411728],
               [0.15005504, 0.3865603, 0.41478541],
               [0.15238306, 0.38988493, 0.41545611],
               [0.1546791, 0.39321431, 0.41612691],
               [0.15694321, 0.39654876, 0.41679659],
               [0.15917562, 0.39988855, 0.41746413],
               [0.16137661, 0.40323391, 0.41812855],
               [0.16354665, 0.40658503, 0.4187891],
               [0.16568684, 0.40994189, 0.41944603],
               [0.16779668, 0.41330499, 0.4200967],
               [0.16987664, 0.41667451, 0.42074009],
               [0.17192722, 0.42005061, 0.42137517],
               [0.17394896, 0.42343346, 0.4220009],
               [0.17594338, 0.42682291, 0.42261773],
               [0.17791037, 0.43021932, 0.42322336],
               [0.17985046, 0.43362285, 0.42381651],
               [0.18176439, 0.43703359, 0.42439617],
               [0.18365295, 0.44045163, 0.42496133],
               [0.18551782, 0.44387678, 0.42551228],
               [0.18735921, 0.44730929, 0.42604697],
               [0.18917783, 0.45074926, 0.42656412],
               [0.19097467, 0.45419672, 0.42706278],
               [0.19275075, 0.45765167, 0.42754201],
               [0.19450804, 0.46111386, 0.42800227],
               [0.19624666, 0.46458354, 0.42844116],
               [0.19796774, 0.4680607, 0.42885777],
               [0.19967244, 0.4715453, 0.42925126],
               [0.20136225, 0.47503722, 0.42962114],
               [0.20303863, 0.47853635, 0.42996696],
               [0.20470228, 0.48204278, 0.43028701],
               [0.20635449, 0.48555643, 0.43058051],
               [0.20799659, 0.48907723, 0.4308467],
               [0.2096304, 0.49260496, 0.43108553],
               [0.21125689, 0.49613963, 0.43129568],
               [0.2128773, 0.49968118, 0.43147618],
               [0.21449305, 0.50322951, 0.43162637],
               [0.21610568, 0.50678446, 0.43174575],
               [0.21771679, 0.51034587, 0.43183392],
               [0.21932746, 0.51391373, 0.43188968],
               [0.22093918, 0.5174879, 0.43191243],
               [0.22255342, 0.52106824, 0.4319016],
               [0.22417184, 0.52465457, 0.43185688],
               [0.2257957, 0.52824682, 0.43177737],
               [0.22742647, 0.53184486, 0.43166245],
               [0.22906564, 0.53544853, 0.43151163],
               [0.23071472, 0.53905768, 0.43132442],
               [0.23237512, 0.5426722, 0.43110018],
               [0.23404832, 0.54629193, 0.43083841],
               [0.23573582, 0.54991672, 0.43053866],
               [0.23743911, 0.55354641, 0.43020051],
               [0.23915943, 0.55718091, 0.42982304],
               [0.24089838, 0.56082004, 0.42940608],
               [0.24265745, 0.56446362, 0.42894925],
               [0.2444381, 0.5681115, 0.42845219],
               [0.24624156, 0.57176358, 0.427914],
               [0.24806919, 0.57541972, 0.42733416],
               [0.24992261, 0.5790797, 0.42671269],
               [0.25180324, 0.58274336, 0.42604924],
               [0.25371246, 0.58641054, 0.42534342],
               [0.25565105, 0.59008126, 0.42459339],
               [0.25762092, 0.5937552, 0.42380004],
               [0.25962341, 0.59743218, 0.42296301],
               [0.26165985, 0.60111204, 0.42208198],
               [0.26373125, 0.60479473, 0.42115564],
               [0.2658388, 0.60848012, 0.42018326],
               [0.26798415, 0.61216792, 0.41916549],
               [0.27016858, 0.61585795, 0.41810199],
               [0.27239332, 0.61955004, 0.41699241],
               [0.27465904, 0.62324425, 0.41583426],
               [0.27696732, 0.62694027, 0.41462838],
               [0.27931955, 0.63063785, 0.41337495],
               [0.28171691, 0.63433683, 0.41207358],
               [0.28416055, 0.63803701, 0.41072387],
               [0.28665097, 0.64173852, 0.40932226],
               [0.28918992, 0.64544092, 0.4078709],
               [0.29177858, 0.649144, 0.40636958],
               [0.29441804, 0.65284757, 0.40481784],
               [0.29710941, 0.65655144, 0.4032152],
               [0.29985328, 0.66025569, 0.40155774],
               [0.30265117, 0.6639599, 0.3998475],
               [0.30550423, 0.66766382, 0.3980845],
               [0.30841351, 0.67136725, 0.39626818],
               [0.31138004, 0.67506997, 0.39439797],
               [0.31440472, 0.67877191, 0.39247123],
               [0.31748862, 0.68247287, 0.39048665],
               [0.32063297, 0.68617246, 0.38844597],
               [0.32383879, 0.68987044, 0.38634853],
               [0.3271071, 0.69356656, 0.38419362],
               [0.33043895, 0.69726059, 0.3819805],
               [0.33383537, 0.70095239, 0.37970581],
               [0.3372975, 0.70464169, 0.37736865],
               [0.34082639, 0.70832807, 0.37497058],
               [0.3444231, 0.71201127, 0.37251071],
               [0.34808868, 0.71569097, 0.36998812],
               [0.35182421, 0.71936688, 0.36740187],
               [0.35563078, 0.72303868, 0.36475093],
               [0.35950981, 0.72670614, 0.36203101],
               [0.36346243, 0.73036886, 0.35924215],
               [0.36748963, 0.73402641, 0.35638515],
               [0.37159257, 0.73767841, 0.35345882],
               [0.37577246, 0.74132448, 0.35046192],
               [0.38003054, 0.74496421, 0.34739317],
               [0.38436808, 0.74859716, 0.34425121],
               [0.38878637, 0.75222289, 0.34103464],
               [0.39328678, 0.75584094, 0.33774198],
               [0.39787088, 0.75945081, 0.33437069],
               [0.40254058, 0.763052, 0.33091715],
               [0.40729674, 0.76664394, 0.3273829],
               [0.41214088, 0.77022605, 0.32376628],
               [0.41707455, 0.77379774, 0.32006557],
               [0.42209938, 0.77735839, 0.31627899],
               [0.42721704, 0.78090733, 0.31240471],
               [0.43242925, 0.78444389, 0.30844086],
               [0.4377378, 0.78796733, 0.30438552],
               [0.44314453, 0.79147689, 0.30023675],
               [0.44865135, 0.79497176, 0.29599255],
               [0.4542602, 0.79845111, 0.29165094],
               [0.4599731, 0.80191406, 0.28720994],
               [0.46579211, 0.80535966, 0.28266756],
               [0.47171933, 0.80878695, 0.2780219],
               [0.47775691, 0.8121949, 0.27327108],
               [0.48390703, 0.81558246, 0.26841335],
               [0.49017189, 0.8189485, 0.26344711],
               [0.49655368, 0.82229185, 0.25837093],
               [0.5030546, 0.82561132, 0.25318365],
               [0.50967821, 0.82890546, 0.24788086],
               [0.51642736, 0.83217285, 0.24246042],
               [0.52330252, 0.83541234, 0.23692658],
               [0.53030562, 0.83862256, 0.2312801],
               [0.53743844, 0.8418021, 0.22552247],
               [0.54470254, 0.84494956, 0.21965619],
               [0.55209925, 0.8480635, 0.2136849],
               [0.55963263, 0.85114199, 0.20760662],
               [0.56730383, 0.85418351, 0.20142726],
               [0.57510973, 0.85718726, 0.19516335],
               [0.58304991, 0.86015202, 0.18882641],
               [0.59112331, 0.86307662, 0.18243084],
               [0.59933469, 0.86595878, 0.17598053],
               [0.60767514, 0.86879885, 0.16951153],
               [0.61614051, 0.87159637, 0.16305214],
               [0.62472737, 0.87435076, 0.15663259],
               [0.6334328, 0.8770614, 0.15028642],
               [0.64224513, 0.87972966, 0.14406983],
               [0.65115669, 0.88235623, 0.13803595],
               [0.66015933, 0.88494202, 0.13224476],
               [0.6692409, 0.8874891, 0.12676987],
               [0.67839065, 0.88999941, 0.12168749],
               [0.68759501, 0.89247582, 0.11708311],
               [0.6968406, 0.89492145, 0.11304343],
               [0.70611747, 0.89733875, 0.10964807],
               [0.71541399, 0.89973083, 0.10697425],
               [0.72470787, 0.90210401, 0.10510265],
               [0.73399704, 0.90445933, 0.10406873],
               [0.74327148, 0.90680017, 0.10390071],
               [0.75252188, 0.90912988, 0.10460382],
               [0.76173117, 0.91145433, 0.10616662],
               [0.77089637, 0.91377543, 0.10854373],
               [0.78001523, 0.9160949, 0.11167586],
               [0.7890827, 0.91841538, 0.11549593],
               [0.79809467, 0.92073931, 0.1199309],
               [0.80704798, 0.92306884, 0.12490633],
               [0.81594036, 0.92540593, 0.13035007],
               [0.82477035, 0.92775224, 0.13619473],
               [0.83353725, 0.93010924, 0.14237918],
               [0.84224103, 0.93247813, 0.14884917],
               [0.85088224, 0.93485989, 0.15555744],
               [0.85946194, 0.93725531, 0.16246341],
               [0.86798165, 0.93966498, 0.16953259],
               [0.87644323, 0.94208933, 0.17673601],
               [0.88484886, 0.94452861, 0.1840495],
               [0.89320093, 0.94698294, 0.19145305],
               [0.90150203, 0.94945234, 0.19893024],
               [0.90975489, 0.9519367, 0.20646766],
               [0.91796232, 0.95443584, 0.21405448],
               [0.92611119, 0.95695577, 0.22166868],
               [0.93421439, 0.9594924, 0.22931048],
               [0.94227919, 0.96204366, 0.23697799],
               [0.95030857, 0.9646091, 0.24466717],
               [0.9583055, 0.96718821, 0.25237504]]

    colors = np.vstack((plt.cm.plasma.colors, np.flipud(cm_data)))
    cmap = matplotlib.colors.ListedColormap(colors)
    plt.cm.register_cmap('day/night', cmap)



init()
